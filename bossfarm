local Player = game:GetService("Players").LocalPlayer
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Evo-Hub | Blue Lock Rivals",
   Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "Evo-Hub | Blue Lock Rivals",
   LoadingSubtitle = "By mal24ks & x7ant",
   Theme = "DarkBlue", -- Check https://[Log in to view URL]

   DisableRayfieldPrompts = true,
   DisableBuildWarnings = true, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

   ConfigurationSaving = {
      Enabled = false,
      FolderName = 'EvoHub', -- Create a custom folder for your hub/game
      FileName = "Evohub"
   },
})


local MainTab = Window:CreateTab("Main", nil)
local MainSection = MainTab:CreateSection("Main")

local Toggle = "ON"
pcall(function()
    if isfile("JJI_State.txt") then
        Toggle = readfile("JJI_State.txt")
    else
        writefile("JJI_State.txt", "ON")
    end
end)

print("QUEUE TOGGLE: " .. Toggle)

if Toggle == "ON" then
    Toggle1_Enabled = true
else
    Toggle1_Enabled = false
end

MainTab:CreateToggle({
    Name = "Auto-bossfarm",
    CurrentValue = Toggle1_Enabled,
    Flag = "Toggle1",
    Callback = function(Value)
        Toggle1_Enabled = Value
        if Value then
            writefile("JJI_State.txt", "ON")
        else
            writefile("JJI_State.txt", "OFF")
        end
        print("Auto-bossfarm state updated:", Value and "ON" or "OFF")
    end,
})

-- Constants
local Cats = {"Withered Beckoning Cat", "Wooden Beckoning Cat", "Polished Beckoning Cat", "Golden Beckoning Cat"}
local Loti = {"White Lotus", "Sapphire Lotus", "Jade Lotus", "Iridescent Lotus"}
local Highlight = {
    "5 Demon Finger", "Maximum Scroll", "Domain Shard", "Iridescent Lotus", "Polished Beckoning Cat", "Sapphire Lotus",
    "Fortune Gourd", "Demon Finger", "Energy Nature Scroll", "Purified Curse Hand", "Jade Lotus", "Cloak of Inferno",
    "Split Soul", "Soul Robe", "Playful Cloud", "Ocean Blue Sailor's Vest", "Deep Black Sailor's Vest", "Demonic Tobi",
    "Demonic Robe", "Rotten Chains"
}
local Runners = {"Soul Curse"}

local QueueSuccess = "False"
if Toggle1_Enabled then
    local Queued, QueueFail = pcall(function()
        queue_on_teleport(game:HttpGet("https://raw.githubusercontent.com/Nebula-Manta/Stingray/refs/heads/main/JJI/BossFarm.lua"))()
    end)
    if not Queued then
        print("Put this script inside your auto-execution folder:", QueueFail)
        QueueSuccess = QueueFail
    else
        print("Queue success")
        QueueSuccess = "True"
    end
end

-- Black screen check & Fail safe
task.spawn(function()
    task.wait(120)
    while Toggle1_Enabled do
        game:GetService("TeleportService"):Teleport(10450270085)
        task.wait(10)
    end
end)

if game.PlaceId == 10450270085 then
    task.spawn(function()
        while Toggle1_Enabled do
            game:GetService("TeleportService"):Teleport(119359147980471)
            task.wait(10)
        end
    end)
elseif game.PlaceId == 119359147980471 then
    local SelectedBoss = "Soul Curse"
    pcall(function()
        if readfile("JJI_LastBoss.txt") then
            SelectedBoss = readfile("JJI_LastBoss.txt")
        end
    end)
    task.wait(3)
    while Toggle1_Enabled and task.wait(1) do
        game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Server"):WaitForChild("Raids")
            :WaitForChild("QuickStart"):InvokeServer("Boss", SelectedBoss, 4, "Nightmare")
    end
end
